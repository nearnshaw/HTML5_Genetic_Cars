<!DOCTYPE html>
<!-- saved from url=(0034)http://rednuht.org/test/simulator/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended</title>
    
    <script type="text/javascript" src="leap.min.js"></script>




    <style>
      #mainbox {
        width: 800px;
        height: 400px;
        border: 1px solid red;
      }

      #div {
        width: 800px;
        height: 400px;
        border: 1px solid black;
      }

      #data {
        position: absolute;
        left: 810px;
        top: 20px;
        width: 300px;
        height: 400px;
      }

      #graphholder {
        position: relative;
      }

      #graphholder .scale {
        position: absolute;
        left: 405px;
        font-size: 9px;
      }

      #s0 { top: 200px; }
      #s25 { top: 150px; }
      #s50 { top: 100px; }
      #s75 { top: 50px; }
      #s100 { top: 0px; }

      #graphcanvas {
        border: 1px solid black;
      }

      #topscoreholder {
        width: 300px;
        height: 400px;
        position: absolute;
        top: 420px;
        left: 445px;
        font-size: 11px;
      }

      #minimap {
        border: 1px solid black;
      }

      #minimapholder {
        position: relative;
        width: 800px;
        height: 200px;
      }

      #minimapmarker {
        position: absolute;
        left: 0;
        top: 0;
        width: 1px;
        height: 200px;
        z-index: 5;
      }

      #minimapfog {
        width: 798px;
        height: 198px;
        position: absolute;
        top: 1px;
        right: 1px;
        z-index: 3;
        background-color: white;
      }

    </style>
  </head>
  <body gram_dict="true" style="" onkeydown="enter_fingers()" >
    <canvas id="mainbox" width="800" height="400"></canvas>
    <div id="graphholder">
      <canvas id="graphcanvas" width="400" height="200"></canvas>
      <div class="scale" id="s100">200</div>
      <div class="scale" id="s75">150</div>
      <div class="scale" id="s50">100</div>
      <div class="scale" id="s25">50</div>
      <div class="scale" id="s0">0</div>
    </div>
    <div id="minimapholder">
      <img src="./HTML5 Genetic Algorithm 2D Car Thingy - Chrome recommended_files/reddot.png" id="minimapmarker" style="left: 180.24px;">
      <div id="minimapfog" style="width: 354.83000000000004px;"></div>
      <canvas id="minimap" width="800" height="200"></canvas>
    </div>
    <div id="topscoreholder">
    <input type="button" value="View top replay" onclick="cw_toggleGhostReplay(this)"><br>
      <div id="topscores">Top Scores:<br>#1: 136.88 d:131.59 h:-2.33/3.17m (gen 1)<br>#2: 130.15 d:125.2 h:-2.18/3.21m (gen 2)<br>#3: 127.27 d:122.7 h:-2.89/3.09m (gen 3)<br>#4: 113.44 d:107.53 h:-0.89/2.69m (gen 0)<br></div>
    </div>
    <div id="debug"></div>
    <div id="data">
      <input type="button" value="Change Draw Mode" onclick="toggleMultiFingerOn()">
      <input type="button" value="Start Over" onclick="resetDots()">
      <input type="button" value="Add Wheels" onclick="addWheels()">
      <input type="button" value="Submit BluePrint" onclick="submitBluePrint()">
    <br>
    <br>
    <br>
      <div>

        Create new world with seed:
        <input type="text" value="Enter any string" id="newseed" onfocus="this.select();">
        <input type="button" value="Go!" onclick="cw_confirmResetWorld()">
      </div>
      <div>
        Mutation rate:
        <select id="mutationrate" onchange="cw_setMutation(this.options[this.selectedIndex].value)">
          <option value="0">0%</option>
          <option value="0.01">1%</option>
          <option value="0.02">2%</option>
          <option value="0.03">3%</option>
          <option value="0.04">4%</option>
          <option value="0.05" selected="selected">5%</option>
          <option value="0.1">10%</option>
          <option value="0.2">20%</option>
          <option value="0.3">30%</option>
          <option value="0.4">40%</option>
          <option value="0.5">50%</option>
          <option value="0.75">75%</option>
          <option value="1.0">100%</option>
        </select>
      </div>

      <div id="generation">generation 4</div>
      <div id="distancemeter">distance: 55.08 meters<br>height: 0.26 meters</div>
      <div id="health">Health: 600</div>
      <div id="cars">Car #1: 106.52m +  5.07 m/s = 111.59pts<br>Car #2: 108.12m +  6.16 m/s = 114.28pts<br>Car #3: 133.39m +  4.75 m/s = 138.14pts<br>Car #4: </div>
    </div>
    <div id="explanation">
      <h3>Explanation</h3>
      This is a modification of <a href="http://rednuht.org/genetic_cars_2/"> this </a> original page by <a href="http://rednuht.org/"> this guy </a> (thanks!!) ...which is in turn based on <a href="http://boxcar2d.com/">BoxCar2D</a>.<br>
      "Cars" are randomly generated and put to compete against each other. Imitating what occurs in nature, the best car's characteristics will be passed on to the next "generation" while other aspects will be randomly mutated and so, over time, they will be better adapted to the environment.<br>
      What I added is the possibility of using a leap motion sensor to draw your own car which will compete against the randomly generated ones. Your car won't mutate like the others, it will stay the same over the generations while the others evolve. <br>
      The whole idea of this project is to prove the value of Iterative Random Design in a pretty graspable way... although you may at first think that it is useless and that you can do better with a little common sense, with Intelligent Design, your car will eventually be crushed by the blind random creations of the computer if you give it a little time.<br>


      <h3>Instructions</h3>
      Using one finger over a Leap Motion sensor, draw the initial shape of your car. Keep in mind that all dots will be linked to the center (0,0) position. There is an imaginary touch-screen in the air above your leap sensor... you draw by pushing forward against it.<br>
      Click 'Change Draw Mode' to switch to an alternative way using multiple fingers. You will see all of your fingers over the sensor represented as circles, if you press any key these positions will be added to the vertex list.<br>
      When you're happy with the shape, you can choose on what vertexes to put wheels by clicking on "add wheels". You can also choose to skip this step and leave the wheel positions to chance by directly clicking "Submit BluePrint"<br>
      In the wheel mode, drawing works in a similar way by pushing against an imaginary touch screen. Point near one of the axis of your car to place a wheel on that spot. You can only place up to two wheels right now. The wheel size and density will be random.<br>
      That's it! Click on "Submit BluePrint" to create your car and see how it fails against random creations!<br>

      <h4>Optional controls:</h4>
      Create new world with seed: The same seed always creates the same track, so you can agree on a seed with your friends and compete. :)<br>
      Mutation rate: The chance that each gene in each individual will mutate to a random value when a new generation is born.<br>
      <h3>Graph</h3>
      Red: Top score in each generation.<br>
      Green: Average of the top 10 cars in each generation.<br>
      Blue: Average of the entire generation.
      <h3>Genome</h3>
      The genome consists of:<br>
      - Shape: (8 genes, 1 per vertex)<br>
      - Wheel size: (2 genes, 1 per wheel)<br>
      - Wheel position: (2 genes, 1 per wheel)<br>
      - Wheel density: (2 genes, 1 per wheel) darker wheels mean denser wheels
     
    </div>
  
    <script src="seedrandom.js"></script>
    <script src="box2d.js"></script>
    <script src="ghost.js"></script>
    <script src="cawro.js"></script>



</body><div class="gr-context gr-dict gr-context-loader" style="display: none;"><span class="gr-triangle"></span><div class="gr-placeholder"></div><a href="http://www.grammarly.com/?utm_source=dict&utm_medium=link&utm_campaign=chrome_plg" target="_blank" class="gr-hint-settings"></a><strong class="gr-title"></strong><div class="gr-dict-content"></div></div></html>